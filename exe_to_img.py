import png
import os

targetFile = "/media/darshk/Data/Apps/Blender/blender.exe"

with open(targetFile, "rb") as file:
	# Reading bytes of each file
	exeData = file.read()

l = len(exeData)

# Arranging pixels into a 512 x (512 * 3 bytes per pixel) matrix
# Extra bytes will be ignored and extra pixels will be black
pixMat = []
for i in range(512):
	matRow = []
	for j in range(1536):
		if i * 512 + j >= l:
			matRow.append(bytes(0))
		else:
			matRow.append(exeData[i * 512 + j])
	pixMat.append(matRow)
	matRow = []

with open("out.png", "wb") as target:
	w = png.Writer(512, 512, greyscale = False, bitdepth=8)
	w.write(target, pixMat)